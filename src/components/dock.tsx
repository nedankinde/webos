import useWMStore from "~/lib/store";

const Dock = () => {
  const create = useWMStore(state => state.create)
  const minimized = useWMStore(state => state.minimized)
  const unminimize = useWMStore(state => state.unminimize)
  
  return <div class="absolute w-full mb-3 bottom-0 left-0 flex justify-center">
    <div class="relative z-50 min-w-fit h-20 rounded-3xl shadow-2xl backdrop-blur-sm flex gap-4 items-center">
      <div class="absolute -z-10 w-full h-full bg-gray-50 rounded-2xl opacity-40" />
      <div class="flex gap-2 px-4">
        <button onClick={() => create()} class="bg-gray-200 hover:scale-105 hover:-translate-y-1 transition-all duration-150 px-3 py-2 rounded-xl shadow-md font-bold w-14 h-14">N/A</button>
        <button onClick={() => create("editor")} class="flex items-center justify-center text-center bg-gray-100 hover:scale-105 hover:-translate-y-1 transition-all duration-150 rounded-xl shadow-md font-bold h-14 w-14">
          <svg version="1.1" id="_x34_" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 460 512" xml:space="preserve" width="36px" height="36px" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> <defs> <filter id="Adobe_OpacityMaskFilter" filterUnits="userSpaceOnUse" x="0" y="0" width="449.074" height="512"> <feFlood style="flood-color:white;flood-opacity:1" result="back"></feFlood> <feBlend in="SourceGraphic" in2="back" mode="normal"></feBlend> </filter> </defs> <mask maskUnits="userSpaceOnUse" x="0" y="0" width="449.074" height="512" id="SVGID_1_"> <g style="filter:url(#Adobe_OpacityMaskFilter);"> <defs> <filter id="Adobe_OpacityMaskFilter_1_" filterUnits="userSpaceOnUse" x="0" y="0" width="449.074" height="512"> <feFlood style="flood-color:white;flood-opacity:1" result="back"></feFlood> <feBlend in="SourceGraphic" in2="back" mode="normal"></feBlend> </filter> </defs> <mask maskUnits="userSpaceOnUse" x="0" y="0" width="449.074" height="512" id="SVGID_1_"> <g style="filter:url(#Adobe_OpacityMaskFilter_1_);"> </g> </mask> <linearGradient id="SVGID_2_" gradientUnits="userSpaceOnUse" x1="0" y1="256" x2="449.0736" y2="256"> <stop offset="0.1014" style="stop-color:#F6F6F6"></stop> <stop offset="1" style="stop-color:#FFFFFF"></stop> </linearGradient> <path style="mask:url(#SVGID_1_);fill:url(#SVGID_2_);" d="M449.074,45.881v371.248l-46.922,45.209l-51.108,49.158L350.52,512 H47.618c-12.385,0-23.547-4.538-32.008-12.017c-1.134-0.924-2.18-1.932-3.139-3.025C4.708,488.808,0,477.967,0,466.035V45.881 c0-2.941,0.261-5.798,0.871-8.655C5.058,16.05,24.42,0,47.618,0h353.835c18.404,0,34.45,10.167,42.3,24.957 c1.744,3.277,3.139,6.723,4.011,10.42C448.638,38.738,449.074,42.268,449.074,45.881z"></path> </g> </mask> <linearGradient id="SVGID_3_" gradientUnits="userSpaceOnUse" x1="0" y1="256" x2="449.0736" y2="256"> <stop offset="0.1014" style="stop-color:#F4F2BE"></stop> <stop offset="1" style="stop-color:#F6F4D5"></stop> </linearGradient> <path style="fill:url(#SVGID_3_);" d="M449.074,45.881v371.248l-46.922,45.209l-51.108,49.158L350.52,512H47.618 c-12.385,0-23.547-4.538-32.008-12.017c-1.134-0.924-2.18-1.932-3.139-3.025C4.708,488.808,0,477.967,0,466.035V45.881 c0-2.941,0.261-5.798,0.871-8.655C5.058,16.05,24.42,0,47.618,0h353.835c18.404,0,34.45,10.167,42.3,24.957 c1.744,3.277,3.139,6.723,4.011,10.42C448.638,38.738,449.074,42.268,449.074,45.881z"></path> <polygon style="opacity:0.2;fill:#776B5E;" points="350.52,434.961 193.793,511.975 349.822,511.975 350.52,511.771 351.043,511.566 "></polygon> <defs> <filter id="Adobe_OpacityMaskFilter_2_" filterUnits="userSpaceOnUse" x="0" y="0" width="449.074" height="104.619"> <feFlood style="flood-color:white;flood-opacity:1" result="back"></feFlood> <feBlend in="SourceGraphic" in2="back" mode="normal"></feBlend> </filter> </defs> <mask maskUnits="userSpaceOnUse" x="0" y="0" width="449.074" height="104.619" id="SVGID_4_"> <g style="filter:url(#Adobe_OpacityMaskFilter_2_);"> <defs> <filter id="Adobe_OpacityMaskFilter_3_" filterUnits="userSpaceOnUse" x="0" y="0" width="449.074" height="104.619"> <feFlood style="flood-color:white;flood-opacity:1" result="back"></feFlood> <feBlend in="SourceGraphic" in2="back" mode="normal"></feBlend> </filter> </defs> <mask maskUnits="userSpaceOnUse" x="0" y="0" width="449.074" height="104.619" id="SVGID_4_"> <g style="filter:url(#Adobe_OpacityMaskFilter_3_);"> </g> </mask> <linearGradient id="SVGID_5_" gradientUnits="userSpaceOnUse" x1="0" y1="52.3093" x2="449.0736" y2="52.3093"> <stop offset="0.0338" style="stop-color:#F6F6F6"></stop> <stop offset="0.6473" style="stop-color:#F6F6F6"></stop> <stop offset="0.9807" style="stop-color:#F6F6F6"></stop> </linearGradient> <path style="mask:url(#SVGID_4_);fill:url(#SVGID_5_);" d="M449.074,35.377v69.242H0V37.225C4.206,16.05,23.663,0,46.975,0 h355.56C425.148,0,444.165,15.125,449.074,35.377z"></path> </g> </mask> <linearGradient id="SVGID_6_" gradientUnits="userSpaceOnUse" x1="0" y1="52.3093" x2="449.0736" y2="52.3093"> <stop offset="0.0338" style="stop-color:#5E411D"></stop> <stop offset="0.6473" style="stop-color:#63543F"></stop> <stop offset="0.9807" style="stop-color:#5F4625"></stop> </linearGradient> <path style="fill:url(#SVGID_6_);" d="M449.074,35.377v69.242H0V37.225C4.206,16.05,23.663,0,46.975,0h355.56 C425.148,0,444.165,15.125,449.074,35.377z"></path> <path style="fill:#83715B;" d="M447.731,35.906v4.957c-4.884-20.251-23.809-35.376-46.312-35.376H47.586 c-23.2,0-42.561,16.049-46.747,37.225v-4.959C5.025,16.579,24.386,0.529,47.586,0.529h353.834 C423.922,0.529,442.847,15.654,447.731,35.906z"></path> <g> <g> <g> <rect x="3.073" y="217.364" style="fill:#FFFEF5;" width="442.88" height="5.71"></rect> </g> <g> <rect x="3.073" y="215.937" style="fill:#97926D;" width="442.88" height="5.71"></rect> </g> </g> <g> <g> <rect x="3.073" y="157.561" style="fill:#FFFEF5;" width="442.88" height="5.71"></rect> </g> <g> <rect x="3.073" y="156.134" style="fill:#97926D;" width="442.88" height="5.71"></rect> </g> </g> <g> <g> <rect x="3.073" y="277.169" style="fill:#FFFEF5;" width="442.88" height="5.709"></rect> </g> <g> <rect x="3.073" y="275.74" style="fill:#97926D;" width="442.88" height="5.71"></rect> </g> </g> <g> <g> <rect x="3.073" y="336.971" style="fill:#FFFEF5;" width="442.88" height="5.709"></rect> </g> <g> <rect x="3.073" y="335.543" style="fill:#97926D;" width="442.88" height="5.71"></rect> </g> </g> <g> <g> <rect x="3.073" y="396.775" style="fill:#FFFEF5;" width="442.88" height="5.71"></rect> </g> <g> <rect x="3.073" y="395.348" style="fill:#97926D;" width="442.88" height="5.709"></rect> </g> </g> <g> <g> <polygon style="fill:#FFFEF5;" points="408.081,456.599 402.152,462.313 3.051,462.313 3.051,456.599 "></polygon> </g> <g> <polygon style="fill:#97926D;" points="409.564,455.17 403.633,460.884 3.051,460.884 3.051,455.17 "></polygon> </g> </g> </g> <g> <rect x="59.97" y="104.619" style="fill:#FFFFFF;" width="14.652" height="407.381"></rect> <rect x="58.052" y="104.619" style="fill:#B11C36;" width="13.868" height="407.381"></rect> </g> <linearGradient id="SVGID_7_" gradientUnits="userSpaceOnUse" x1="350.5199" y1="464.54" x2="449.0736" y2="464.54"> <stop offset="0.1063" style="stop-color:#EDE2A9"></stop> <stop offset="1" style="stop-color:#F0E8B8"></stop> </linearGradient> <polygon style="fill:url(#SVGID_7_);" points="449.074,417.104 402.152,462.313 350.52,511.976 350.52,417.104 "></polygon> </g> </g></svg>
        </button>
        {minimized().map(win => {
          return <button onClick={() => unminimize(win.key)} class="bg-blue-200 hover:scale-105 hover:-translate-y-1 transition-all duration-150 px-3 py-2 rounded-xl shadow-md font-bold w-14 h-14">{win.key}</button>
        })}
      </div>
    </div>
  </div>
}

export default Dock
